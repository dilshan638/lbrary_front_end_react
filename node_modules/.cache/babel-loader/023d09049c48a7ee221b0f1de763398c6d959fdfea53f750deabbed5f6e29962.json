{"ast":null,"code":"import axios from \"axios\";\nimport { toast } from \"react-toastify\";\n//import Updateuser from \"../Component/Updateuser\"\n//import { ADD_USER, DELETE_USER, FAIL_REQUEST, GET_USER_LIST, GET_USER_OBJ, MAKE_REQUEST, UPDATE_USER } from \"./ActionType\"\nimport { MAKE_REQUEST, GET_AUTHOR_LIST, FAIL_REQUEST, DELETE_AUTHOR, ADD_AUTHOR } from \"./ActionType\";\nexport const makeRequest = () => {\n  return {\n    type: MAKE_REQUEST\n  };\n};\nexport const failRequest = err => {\n  return {\n    type: FAIL_REQUEST,\n    payload: err\n  };\n};\nexport const getAuthorList = data => {\n  return {\n    type: GET_AUTHOR_LIST,\n    payload: data\n  };\n};\nexport const deleteAuthor = () => {\n  return {\n    type: DELETE_AUTHOR\n  };\n};\nexport const addAuthor = () => {\n  return {\n    type: ADD_AUTHOR\n  };\n};\nexport const FetchAuthorList = () => {\n  return dispatch => {\n    dispatch(makeRequest());\n    axios.get('http://localhost:3003/authors').then(res => {\n      const authorlist = res.data;\n      dispatch(getAuthorList(authorlist));\n    }).catch(err => {\n      dispatch(failRequest(err.message));\n    });\n  };\n};\n_c = FetchAuthorList;\nexport const RemoveAuthor = code => {\n  return dispatch => {\n    dispatch(makeRequest());\n    axios.delete('http://localhost:3003/author/delete/' + code).then(res => {\n      dispatch(deleteAuthor());\n    }).catch(err => {\n      dispatch(failRequest(err.message));\n    });\n  };\n};\n_c2 = RemoveAuthor;\nexport const FunctionAddAuthor = data => {\n  return dispatch => {\n    dispatch(makeRequest());\n    axios.post('http://localhost:3003/author', data).then(res => {\n      dispatch(addAuthor());\n      toast.success('Author Added successfully.');\n    }).catch(err => {\n      dispatch(failRequest(err.message));\n    });\n  };\n};\n_c3 = FunctionAddAuthor;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"FetchAuthorList\");\n$RefreshReg$(_c2, \"RemoveAuthor\");\n$RefreshReg$(_c3, \"FunctionAddAuthor\");","map":{"version":3,"names":["axios","toast","MAKE_REQUEST","GET_AUTHOR_LIST","FAIL_REQUEST","DELETE_AUTHOR","ADD_AUTHOR","makeRequest","type","failRequest","err","payload","getAuthorList","data","deleteAuthor","addAuthor","FetchAuthorList","dispatch","get","then","res","authorlist","catch","message","_c","RemoveAuthor","code","delete","_c2","FunctionAddAuthor","post","success","_c3","$RefreshReg$"],"sources":["/home/sysadmin/Documents/August_3/library_api/lbrary_frontend/my-app/src/Redux/Action.js"],"sourcesContent":["import axios from \"axios\"\nimport { toast } from \"react-toastify\"\n//import Updateuser from \"../Component/Updateuser\"\n//import { ADD_USER, DELETE_USER, FAIL_REQUEST, GET_USER_LIST, GET_USER_OBJ, MAKE_REQUEST, UPDATE_USER } from \"./ActionType\"\nimport { MAKE_REQUEST,GET_AUTHOR_LIST,FAIL_REQUEST,DELETE_AUTHOR,ADD_AUTHOR} from \"./ActionType\"\n\nexport const makeRequest=()=>{\n    return{\n        type:MAKE_REQUEST\n    }\n}\nexport const failRequest=(err)=>{\n    return{\n        type:FAIL_REQUEST,\n        payload:err\n    }\n}\nexport const getAuthorList=(data)=>{\n    return{\n        type:GET_AUTHOR_LIST,\n        payload:data\n    }\n}\n\n\nexport const deleteAuthor=()=>{\n    return{\n        type:DELETE_AUTHOR\n    }\n}\n\nexport const addAuthor=()=>{\n    return{\n        type:ADD_AUTHOR\n    }\n}\n\nexport const FetchAuthorList=()=>{\n    return (dispatch)=>{\n      dispatch(makeRequest());\n        axios.get('http://localhost:3003/authors').then(res=>{\n            const authorlist=res.data;\n            dispatch(getAuthorList(authorlist));\n          }).catch(err=>{\n            dispatch(failRequest(err.message))\n          })\n        \n    }\n}\n\nexport const RemoveAuthor=(code)=>{\n    return (dispatch)=>{\n      dispatch(makeRequest());\n        axios.delete('http://localhost:3003/author/delete/'+code).then(res=>{\n            dispatch(deleteAuthor());\n          }).catch(err=>{\n            dispatch(failRequest(err.message))\n          })\n     \n    }\n}\n\n\nexport const FunctionAddAuthor=(data)=>{\n    return (dispatch)=>{\n      dispatch(makeRequest());\n        axios.post('http://localhost:3003/author',data).then(res=>{\n            dispatch(addAuthor());\n            toast.success('Author Added successfully.')\n          }).catch(err=>{\n            dispatch(failRequest(err.message))\n          })\n     }\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,KAAK,QAAQ,gBAAgB;AACtC;AACA;AACA,SAASC,YAAY,EAACC,eAAe,EAACC,YAAY,EAACC,aAAa,EAACC,UAAU,QAAO,cAAc;AAEhG,OAAO,MAAMC,WAAW,GAACA,CAAA,KAAI;EACzB,OAAM;IACFC,IAAI,EAACN;EACT,CAAC;AACL,CAAC;AACD,OAAO,MAAMO,WAAW,GAAEC,GAAG,IAAG;EAC5B,OAAM;IACFF,IAAI,EAACJ,YAAY;IACjBO,OAAO,EAACD;EACZ,CAAC;AACL,CAAC;AACD,OAAO,MAAME,aAAa,GAAEC,IAAI,IAAG;EAC/B,OAAM;IACFL,IAAI,EAACL,eAAe;IACpBQ,OAAO,EAACE;EACZ,CAAC;AACL,CAAC;AAGD,OAAO,MAAMC,YAAY,GAACA,CAAA,KAAI;EAC1B,OAAM;IACFN,IAAI,EAACH;EACT,CAAC;AACL,CAAC;AAED,OAAO,MAAMU,SAAS,GAACA,CAAA,KAAI;EACvB,OAAM;IACFP,IAAI,EAACF;EACT,CAAC;AACL,CAAC;AAED,OAAO,MAAMU,eAAe,GAACA,CAAA,KAAI;EAC7B,OAAQC,QAAQ,IAAG;IACjBA,QAAQ,CAACV,WAAW,CAAC,CAAC,CAAC;IACrBP,KAAK,CAACkB,GAAG,CAAC,+BAA+B,CAAC,CAACC,IAAI,CAACC,GAAG,IAAE;MACjD,MAAMC,UAAU,GAACD,GAAG,CAACP,IAAI;MACzBI,QAAQ,CAACL,aAAa,CAACS,UAAU,CAAC,CAAC;IACrC,CAAC,CAAC,CAACC,KAAK,CAACZ,GAAG,IAAE;MACZO,QAAQ,CAACR,WAAW,CAACC,GAAG,CAACa,OAAO,CAAC,CAAC;IACpC,CAAC,CAAC;EAER,CAAC;AACL,CAAC;AAAAC,EAAA,GAXYR,eAAe;AAa5B,OAAO,MAAMS,YAAY,GAAEC,IAAI,IAAG;EAC9B,OAAQT,QAAQ,IAAG;IACjBA,QAAQ,CAACV,WAAW,CAAC,CAAC,CAAC;IACrBP,KAAK,CAAC2B,MAAM,CAAC,sCAAsC,GAACD,IAAI,CAAC,CAACP,IAAI,CAACC,GAAG,IAAE;MAChEH,QAAQ,CAACH,YAAY,CAAC,CAAC,CAAC;IAC1B,CAAC,CAAC,CAACQ,KAAK,CAACZ,GAAG,IAAE;MACZO,QAAQ,CAACR,WAAW,CAACC,GAAG,CAACa,OAAO,CAAC,CAAC;IACpC,CAAC,CAAC;EAER,CAAC;AACL,CAAC;AAAAK,GAAA,GAVYH,YAAY;AAazB,OAAO,MAAMI,iBAAiB,GAAEhB,IAAI,IAAG;EACnC,OAAQI,QAAQ,IAAG;IACjBA,QAAQ,CAACV,WAAW,CAAC,CAAC,CAAC;IACrBP,KAAK,CAAC8B,IAAI,CAAC,8BAA8B,EAACjB,IAAI,CAAC,CAACM,IAAI,CAACC,GAAG,IAAE;MACtDH,QAAQ,CAACF,SAAS,CAAC,CAAC,CAAC;MACrBd,KAAK,CAAC8B,OAAO,CAAC,4BAA4B,CAAC;IAC7C,CAAC,CAAC,CAACT,KAAK,CAACZ,GAAG,IAAE;MACZO,QAAQ,CAACR,WAAW,CAACC,GAAG,CAACa,OAAO,CAAC,CAAC;IACpC,CAAC,CAAC;EACP,CAAC;AACN,CAAC;AAAAS,GAAA,GAVYH,iBAAiB;AAAA,IAAAL,EAAA,EAAAI,GAAA,EAAAI,GAAA;AAAAC,YAAA,CAAAT,EAAA;AAAAS,YAAA,CAAAL,GAAA;AAAAK,YAAA,CAAAD,GAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}